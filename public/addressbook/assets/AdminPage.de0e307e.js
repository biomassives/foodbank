import{i as _l,l as vt,r as R,j as b,B as tt,S as el,aB as tl,a3 as Pl,aC as ll,q as x,E as ge,Z as nl,aq as al,Q as Te,A as ol,x as Be,aD as Ue,k as Ie,w as be,p as Al,ad as ul,an as il,s as lt,aE as Bl,aF as Il,aG as rl,aH as Ml,au as Tt,T as sl,ai as Rl,U as cl,am as Ll,aI as El,n as Ae,ak as Ol,aJ as Fl,ao as mt,ar as Ke,Y as zl,ag as Ye,as as Dl,D as at,at as ht,C as gt,aK as $l,aL as Hl,G as Nl,I as Le,J as ot,K as Z,a0 as Ee,L as N,av as bt,ay as St,ax as yt,O as wt,N as $t,M as ut,a1 as Ge}from"./index.2b4c1443.js";import{e as Ql,f as Vt,g as dl,h as fl,i as vl,u as _t,c as Pt,d as jl,j as Kl,k as Ul,l as Ht,m as Wl,Q as Xl,a as Yl}from"./QCard.cab38a8e.js";import{c as it,d as ct,Q as Gl,u as Jl,a as Zl,s as en,b as tn,e as ln,f as nn,h as an,w as on,x as un,y as Nt,j as rn,z as sn,A as cn,q as dn,i as fn,p as vn,k as mn}from"./use-quasar.6ff0ae8d.js";import{n as Qt,Q as Oe,a as rt,c as st,g as jt,s as Kt,d as Ct}from"./QItem.a01385c9.js";import{e as hn,v as Ut,a as gn,b as bn,c as Sn,r as Wt,s as yn,p as Xt,d as wn}from"./position-engine.4f64346e.js";import{Q as Cn}from"./QPage.6c8a3c09.js";import{u as pn,s as Je}from"./store.768f854b.js";let kn=0;const xn=["click","keydown"],qn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${kn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Tn(e,a,o,i){const h=_l(tl,vt);if(h===vt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),vt;const{proxy:l}=Be(),S=R(null),y=R(null),w=R(null),I=b(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=b(()=>h.currentModel.value===e.name),q=b(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(h.tabProps.value.activeClass?" "+h.tabProps.value.activeClass:"")+(h.tabProps.value.activeColor?` text-${h.tabProps.value.activeColor}`:"")+(h.tabProps.value.activeBgColor?` bg-${h.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&h.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||h.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),f=b(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(h.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),v=b(()=>e.disable===!0||h.hasFocus.value===!0||r.value===!1&&h.hasActiveTab.value===!0?-1:e.tabindex||0);function m(k,P){var Y;if(P!==!0&&(k==null?void 0:k.qAvoidFocus)!==!0&&((Y=S.value)==null||Y.focus()),e.disable===!0){(i==null?void 0:i.hasRouterLink.value)===!0&&ge(k);return}if(i===void 0){h.updateModel({name:e.name}),o("click",k);return}if(i.hasRouterLink.value===!0){const E=(H={})=>{let D;const re=H.to===void 0||Ue(H.to,e.to)===!0?h.avoidRouteWatcher=Ql():null;return i.navigateToRouterLink(k,{...H,returnRouterError:!0}).catch(ee=>{D=ee}).then(ee=>{var ce;if(re===h.avoidRouteWatcher&&(h.avoidRouteWatcher=!1,D===void 0&&(ee===void 0||((ce=ee.message)==null?void 0:ce.startsWith("Avoided redundant navigation"))===!0)&&h.updateModel({name:e.name})),H.returnRouterError===!0)return D!==void 0?Promise.reject(D):ee})};o("click",k,E),k.defaultPrevented!==!0&&E();return}o("click",k)}function L(k){nl(k,[13,32])?m(k,!0):al(k)!==!0&&k.keyCode>=35&&k.keyCode<=40&&k.altKey!==!0&&k.metaKey!==!0&&h.onKbdNavigate(k.keyCode,l.$el)===!0&&ge(k),o("keydown",k)}function p(){const k=h.tabProps.value.narrowIndicator,P=[],Y=x("div",{ref:w,class:["q-tab__indicator",h.tabProps.value.indicatorClass]});e.icon!==void 0&&P.push(x(Te,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&P.push(x("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&P.push(e.alertIcon!==void 0?x(Te,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):x("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),k===!0&&P.push(Y);const E=[x("div",{class:"q-focus-helper",tabindex:-1,ref:S}),x("div",{class:f.value},ol(a.default,P))];return k===!1&&E.push(Y),E}const Q={name:b(()=>e.name),rootRef:y,tabIndicatorRef:w,routeData:i};tt(()=>{h.unregisterTab(Q)}),el(()=>{h.registerTab(Q)});function ue(k,P){const Y={ref:y,class:q.value,tabindex:v.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:m,onKeydown:L,...P};return Pl(x(k,Y,p()),[[ll,I.value]])}return{renderTab:ue,$tabs:h}}var pt=Ie({name:"QTab",props:qn,emits:xn,setup(e,{slots:a,emit:o}){const{renderTab:i}=Tn(e,a,o);return()=>i("div")}});let et=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,et=e.scrollLeft>=0,e.remove()}function Vn(e,a,o){const i=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const _n=["left","center","right","justify"];var Pn=Ie({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>_n.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:i}=Be(),{$q:h}=i,{registerTick:l}=it(),{registerTick:S}=it(),{registerTick:y}=it(),{registerTimeout:w,removeTimeout:I}=ct(),{registerTimeout:r,removeTimeout:q}=ct(),f=R(null),v=R(null),m=R(e.modelValue),L=R(!1),p=R(!0),Q=R(!1),ue=R(!1),k=[],P=R(0),Y=R(!1);let E=null,H=null,D;const re=b(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Vn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ee=b(()=>{const u=P.value,C=m.value;for(let B=0;B<u;B++)if(k[B].name.value===C)return!0;return!1}),ce=b(()=>`q-tabs__content--align-${L.value===!0?"left":ue.value===!0?"justify":e.align}`),oe=b(()=>`q-tabs row no-wrap items-center q-tabs--${L.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),fe=b(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ce.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),T=b(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),O=b(()=>e.vertical!==!0&&h.lang.rtl===!0),j=b(()=>et===!1&&O.value===!0);be(O,s),be(()=>e.modelValue,u=>{de({name:u,setCurrent:!0,skipEmit:!0})}),be(()=>e.outsideArrows,ve);function de({name:u,setCurrent:C,skipEmit:B}){m.value!==u&&(B!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",u),(C===!0||e["onUpdate:modelValue"]===void 0)&&(xe(m.value,u),m.value=u))}function ve(){l(()=>{f.value&&me({width:f.value.offsetWidth,height:f.value.offsetHeight})})}function me(u){if(T.value===void 0||v.value===null)return;const C=u[T.value.container],B=Math.min(v.value[T.value.scroll],Array.prototype.reduce.call(v.value.children,(X,z)=>X+(z[T.value.content]||0),0)),J=C>0&&B>C;L.value=J,J===!0&&S(s),ue.value=C<parseInt(e.breakpoint,10)}function xe(u,C){const B=u!=null&&u!==""?k.find(X=>X.name.value===u):null,J=C!=null&&C!==""?k.find(X=>X.name.value===C):null;if(se===!0)se=!1;else if(B&&J){const X=B.tabIndicatorRef.value,z=J.tabIndicatorRef.value;E!==null&&(clearTimeout(E),E=null),X.style.transition="none",X.style.transform="none",z.style.transition="none",z.style.transform="none";const F=X.getBoundingClientRect(),te=z.getBoundingClientRect();z.style.transform=e.vertical===!0?`translate3d(0,${F.top-te.top}px,0) scale3d(1,${te.height?F.height/te.height:1},1)`:`translate3d(${F.left-te.left}px,0,0) scale3d(${te.width?F.width/te.width:1},1,1)`,y(()=>{E=setTimeout(()=>{E=null,z.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",z.style.transform="none"},70)})}J&&L.value===!0&&n(J.rootRef.value)}function n(u){const{left:C,width:B,top:J,height:X}=v.value.getBoundingClientRect(),z=u.getBoundingClientRect();let F=e.vertical===!0?z.top-J:z.left-C;if(F<0){v.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(F),s();return}F+=e.vertical===!0?z.height-X:z.width-B,F>0&&(v.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(F),s())}function s(){const u=v.value;if(u===null)return;const C=u.getBoundingClientRect(),B=e.vertical===!0?u.scrollTop:Math.abs(u.scrollLeft);O.value===!0?(p.value=Math.ceil(B+C.width)<u.scrollWidth-1,Q.value=B>0):(p.value=B>0,Q.value=e.vertical===!0?Math.ceil(B+C.height)<u.scrollHeight:Math.ceil(B+C.width)<u.scrollWidth)}function A(u){H!==null&&clearInterval(H),H=setInterval(()=>{c(u)===!0&&V()},5)}function $(){A(j.value===!0?Number.MAX_SAFE_INTEGER:0)}function W(){A(j.value===!0?0:Number.MAX_SAFE_INTEGER)}function V(){H!==null&&(clearInterval(H),H=null)}function _(u,C){const B=Array.prototype.filter.call(v.value.children,te=>te===C||te.matches&&te.matches(".q-tab.q-focusable")===!0),J=B.length;if(J===0)return;if(u===36)return n(B[0]),B[0].focus(),!0;if(u===35)return n(B[J-1]),B[J-1].focus(),!0;const X=u===(e.vertical===!0?38:37),z=u===(e.vertical===!0?40:39),F=X===!0?-1:z===!0?1:void 0;if(F!==void 0){const te=O.value===!0?-1:1,ie=B.indexOf(C)+F*te;return ie>=0&&ie<J&&(n(B[ie]),B[ie].focus({preventScroll:!0})),!0}}const G=b(()=>j.value===!0?{get:u=>Math.abs(u.scrollLeft),set:(u,C)=>{u.scrollLeft=-C}}:e.vertical===!0?{get:u=>u.scrollTop,set:(u,C)=>{u.scrollTop=C}}:{get:u=>u.scrollLeft,set:(u,C)=>{u.scrollLeft=C}});function c(u){const C=v.value,{get:B,set:J}=G.value;let X=!1,z=B(C);const F=u<z?-1:1;return z+=F*5,z<0?(X=!0,z=0):(F===-1&&z<=u||F===1&&z>=u)&&(X=!0,z=u),J(C,z),s(),X}function ae(u,C){for(const B in u)if(u[B]!==C[B])return!1;return!0}function Se(){let u=null,C={matchedLen:0,queryDiff:9999,hrefLen:0};const B=k.filter(F=>{var te;return((te=F.routeData)==null?void 0:te.hasRouterLink.value)===!0}),{hash:J,query:X}=i.$route,z=Object.keys(X).length;for(const F of B){const te=F.routeData.exact.value===!0;if(F.routeData[te===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ie,query:ke,matched:De,href:dt}=F.routeData.resolvedLink.value,Me=Object.keys(ke).length;if(te===!0){if(ie!==J||Me!==z||ae(X,ke)===!1)continue;u=F.name.value;break}if(ie!==""&&ie!==J||Me!==0&&ae(ke,X)===!1)continue;const ye={matchedLen:De.length,queryDiff:z-Me,hrefLen:dt.length-ie.length};if(ye.matchedLen>C.matchedLen){u=F.name.value,C=ye;continue}else if(ye.matchedLen!==C.matchedLen)continue;if(ye.queryDiff<C.queryDiff)u=F.name.value,C=ye;else if(ye.queryDiff!==C.queryDiff)continue;ye.hrefLen>C.hrefLen&&(u=F.name.value,C=ye)}if(u===null&&k.some(F=>F.routeData===void 0&&F.name.value===m.value)===!0){se=!1;return}de({name:u,setCurrent:!0})}function Ve(u){if(I(),Y.value!==!0&&f.value!==null&&u.target&&typeof u.target.closest=="function"){const C=u.target.closest(".q-tab");C&&f.value.contains(C)===!0&&(Y.value=!0,L.value===!0&&n(C))}}function he(){w(()=>{Y.value=!1},30)}function Ce(){_e.avoidRouteWatcher===!1?r(Se):q()}function pe(){if(D===void 0){const u=be(()=>i.$route.fullPath,Ce);D=()=>{u(),D=void 0}}}function qe(u){k.push(u),P.value++,ve(),u.routeData===void 0||i.$route===void 0?r(()=>{if(L.value===!0){const C=m.value,B=C!=null&&C!==""?k.find(J=>J.name.value===C):null;B&&n(B.rootRef.value)}}):(pe(),u.routeData.hasRouterLink.value===!0&&Ce())}function Fe(u){k.splice(k.indexOf(u),1),P.value--,ve(),D!==void 0&&u.routeData!==void 0&&(k.every(C=>C.routeData===void 0)===!0&&D(),Ce())}const _e={currentModel:m,tabProps:re,hasFocus:Y,hasActiveTab:ee,registerTab:qe,unregisterTab:Fe,verifyRouteModel:Ce,updateModel:de,onKbdNavigate:_,avoidRouteWatcher:!1};Al(tl,_e);function ze(){E!==null&&clearTimeout(E),V(),D==null||D()}let Pe,se;return tt(ze),ul(()=>{Pe=D!==void 0,ze()}),il(()=>{Pe===!0&&(pe(),se=!0,Ce()),ve()}),()=>x("div",{ref:f,class:oe.value,role:"tablist",onFocusin:Ve,onFocusout:he},[x(Gl,{onResize:me}),x("div",{ref:v,class:fe.value,onScroll:s},lt(a.default)),x(Te,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(p.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||h.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:$,onTouchstartPassive:$,onMouseupPassive:V,onMouseleavePassive:V,onTouchendPassive:V}),x(Te,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(Q.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||h.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:W,onTouchstartPassive:W,onMouseupPassive:V,onMouseleavePassive:V,onTouchendPassive:V})])}}),An=Ie({name:"QField",inheritAttrs:!1,props:{...Vt,tag:{type:String,default:"label"}},emits:dl,setup(){return fl(vl({tagProp:!0}))}});const Bn={xs:8,sm:10,md:14,lg:20,xl:24};var In=Ie({name:"QChip",props:{..._t,...Bl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:o}){const{proxy:{$q:i}}=Be(),h=Pt(e,i),l=Il(e,Bn),S=b(()=>e.selected===!0||e.icon!==void 0),y=b(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),w=b(()=>e.iconRemove||i.iconSet.chip.remove),I=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=b(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(I.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(h.value===!0?" q-chip--dark q-dark":"")}),q=b(()=>{const p=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Q={...p,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:p,remove:Q}});function f(p){p.keyCode===13&&v(p)}function v(p){e.disable||(o("update:selected",!e.selected),o("click",p))}function m(p){(p.keyCode===void 0||p.keyCode===13)&&(ge(p),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function L(){const p=[];I.value===!0&&p.push(x("div",{class:"q-focus-helper"})),S.value===!0&&p.push(x(Te,{class:"q-chip__icon q-chip__icon--left",name:y.value}));const Q=e.label!==void 0?[x("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(x("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ml(a.default,Q))),e.iconRight&&p.push(x(Te,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(x(Te,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:w.value,...q.value.remove,onClick:m,onKeyup:m})),p}return()=>{if(e.modelValue===!1)return;const p={class:r.value,style:l.value};return I.value===!0&&Object.assign(p,q.value.chip,{onClick:v,onKeyup:f}),rl("div",p,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ll,e.ripple]])}}}),Mn=Ie({name:"QMenu",inheritAttrs:!1,props:{...hn,...Jl,..._t,...Zl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ut},self:{type:String,validator:Ut},offset:{type:Array,validator:gn},scrollTarget:en,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...tn,"click","escapeKey"],setup(e,{slots:a,emit:o,attrs:i}){let h=null,l,S,y;const w=Be(),{proxy:I}=w,{$q:r}=I,q=R(null),f=R(!1),v=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),m=Pt(e,r),{registerTick:L,removeTick:p}=it(),{registerTimeout:Q}=ct(),{transitionProps:ue,transitionStyle:k}=ln(e),{localScrollTarget:P,changeScrollEvent:Y,unconfigureScrollTarget:E}=bn(e,A),{anchorEl:H,canShow:D}=Sn({showing:f}),{hide:re}=nn({showing:f,canShow:D,handleShow:xe,handleHide:n,hideOnRouteChange:v,processOnMount:!0}),{showPortal:ee,hidePortal:ce,renderPortal:oe}=an(w,q,G,"menu"),fe={anchorEl:H,innerRef:q,onClickOutside(c){if(e.persistent!==!0&&f.value===!0)return re(c),(c.type==="touchstart"||c.target.classList.contains("q-dialog__backdrop"))&&ge(c),!0}},T=b(()=>Xt(e.anchor||(e.cover===!0?"center middle":"bottom start"),r.lang.rtl)),O=b(()=>e.cover===!0?T.value:Xt(e.self||"top start",r.lang.rtl)),j=b(()=>(e.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),de=b(()=>e.autoClose===!0?{onClick:$}:{}),ve=b(()=>f.value===!0&&e.persistent!==!0);be(ve,c=>{c===!0?(cn(V),wn(fe)):(Nt(V),Wt(fe))});function me(){jl(()=>{let c=q.value;c&&c.contains(document.activeElement)!==!0&&(c=c.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.querySelector("[autofocus], [data-autofocus]")||c,c.focus({preventScroll:!0}))})}function xe(c){if(h=e.noRefocus===!1?document.activeElement:null,on(W),ee(),A(),l=void 0,c!==void 0&&(e.touchPosition||e.contextMenu)){const ae=Tt(c);if(ae.left!==void 0){const{top:Se,left:Ve}=H.value.getBoundingClientRect();l={left:ae.left-Ve,top:ae.top-Se}}}S===void 0&&(S=be(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,_)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{_(),e.noFocus!==!0&&me()}),Q(()=>{r.platform.is.ios===!0&&(y=e.autoClose,q.value.click()),_(),ee(!0),o("show",c)},e.transitionDuration)}function n(c){p(),ce(),s(!0),h!==null&&(c===void 0||c.qClickOutside!==!0)&&((((c==null?void 0:c.type.indexOf("key"))===0?h.closest('[tabindex]:not([tabindex^="-"])'):void 0)||h).focus(),h=null),Q(()=>{ce(!0),o("hide",c)},e.transitionDuration)}function s(c){l=void 0,S!==void 0&&(S(),S=void 0),(c===!0||f.value===!0)&&(un(W),E(),Wt(fe),Nt(V)),c!==!0&&(h=null)}function A(){(H.value!==null||e.scrollTarget!==void 0)&&(P.value=rn(H.value,e.scrollTarget),Y(P.value,_))}function $(c){y!==!0?(sn(I,c),o("click",c)):y=!1}function W(c){ve.value===!0&&e.noFocus!==!0&&Rl(q.value,c.target)!==!0&&me()}function V(c){e.noEscDismiss!==!0&&(o("escapeKey"),re(c))}function _(){yn({targetEl:q.value,offset:e.offset,anchorEl:H.value,anchorOrigin:T.value,selfOrigin:O.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function G(){return x(sl,ue.value,()=>f.value===!0?x("div",{role:"menu",...i,ref:q,tabindex:-1,class:["q-menu q-position-engine scroll"+j.value,i.class],style:[i.style,k.value],...de.value},lt(a.default)):null)}return tt(s),Object.assign(I,{focus:me,updatePosition:_}),oe}});const we=1e3,Rn=["start","center","end","start-force","center-force","end-force"],ml=Array.prototype.filter,Ln=window.getComputedStyle(document.body).overflowAnchor===void 0?cl:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];ml.call(o,h=>h.dataset&&h.dataset.qVsAnchor!==void 0).forEach(h=>{delete h.dataset.qVsAnchor});const i=o[a];i!=null&&i.dataset&&(i.dataset.qVsAnchor="")}))};function We(e,a){return e+a}function kt(e,a,o,i,h,l,S,y){const w=e===window?document.scrollingElement||document.documentElement:e,I=h===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-S-y,scrollMaxSize:0,offsetStart:-S,offsetEnd:-y};if(h===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=w.scrollLeft,r.scrollViewSize+=w.clientWidth),r.scrollMaxSize=w.scrollWidth,l===!0&&(r.scrollStart=(et===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=w.scrollTop,r.scrollViewSize+=w.clientHeight),r.scrollMaxSize=w.scrollHeight),o!==null)for(let q=o.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=q[I]);if(i!==null)for(let q=i.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=q[I]);if(a!==e){const q=w.getBoundingClientRect(),f=a.getBoundingClientRect();h===!0?(r.offsetStart+=f.left-q.left,r.offsetEnd-=f.width):(r.offsetStart+=f.top-q.top,r.offsetEnd-=f.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function Yt(e,a,o,i){a==="end"&&(a=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(i===!0&&(a=(et===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):o===!0?(i===!0&&(a=(et===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function Ze(e,a,o,i){if(o>=i)return 0;const h=a.length,l=Math.floor(o/we),S=Math.floor((i-1)/we)+1;let y=e.slice(l,S).reduce(We,0);return o%we!==0&&(y-=a.slice(l*we,o).reduce(We,0)),i%we!==0&&i!==h&&(y-=a.slice(i,S*we).reduce(We,0)),y}const En={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Gt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...En};function On({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:o,virtualScrollItemSizeComputed:i}){const h=Be(),{props:l,emit:S,proxy:y}=h,{$q:w}=y;let I,r,q,f=[],v;const m=R(0),L=R(0),p=R({}),Q=R(null),ue=R(null),k=R(null),P=R({from:0,to:0}),Y=b(()=>l.tableColspan!==void 0?l.tableColspan:100);i===void 0&&(i=b(()=>l.virtualScrollItemSize));const E=b(()=>i.value+";"+l.virtualScrollHorizontal),H=b(()=>E.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);be(H,()=>{j()}),be(E,D);function D(){O(r,!0)}function re(n){O(n===void 0?r:n)}function ee(n,s){const A=a();if(A==null||A.nodeType===8)return;const $=kt(A,o(),Q.value,ue.value,l.virtualScrollHorizontal,w.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);q!==$.scrollViewSize&&j($.scrollViewSize),oe(A,$,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,Rn.indexOf(s)!==-1?s:r!==-1&&n>r?"end":"start")}function ce(){const n=a();if(n==null||n.nodeType===8)return;const s=kt(n,o(),Q.value,ue.value,l.virtualScrollHorizontal,w.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),A=e.value-1,$=s.scrollMaxSize-s.offsetStart-s.offsetEnd-L.value;if(I===s.scrollStart)return;if(s.scrollMaxSize<=0){oe(n,s,0,0);return}q!==s.scrollViewSize&&j(s.scrollViewSize),fe(P.value.from);const W=Math.floor(s.scrollMaxSize-Math.max(s.scrollViewSize,s.offsetEnd)-Math.min(v[A],s.scrollViewSize/2));if(W>0&&Math.ceil(s.scrollStart)>=W){oe(n,s,A,s.scrollMaxSize-s.offsetEnd-f.reduce(We,0));return}let V=0,_=s.scrollStart-s.offsetStart,G=_;if(_<=$&&_+s.scrollViewSize>=m.value)_-=m.value,V=P.value.from,G=_;else for(let c=0;_>=f[c]&&V<A;c++)_-=f[c],V+=we;for(;_>0&&V<A;)_-=v[V],_>-s.scrollViewSize?(V++,G=_):G=v[V]+_;oe(n,s,V,G)}function oe(n,s,A,$,W){const V=typeof W=="string"&&W.indexOf("-force")!==-1,_=V===!0?W.replace("-force",""):W,G=_!==void 0?_:"start";let c=Math.max(0,A-p.value[G]),ae=c+p.value.total;ae>e.value&&(ae=e.value,c=Math.max(0,ae-p.value.total)),I=s.scrollStart;const Se=c!==P.value.from||ae!==P.value.to;if(Se===!1&&_===void 0){ve(A);return}const{activeElement:Ve}=document,he=k.value;Se===!0&&he!==null&&he!==Ve&&he.contains(Ve)===!0&&(he.addEventListener("focusout",T),setTimeout(()=>{he==null||he.removeEventListener("focusout",T)})),Ln(he,A-c);const Ce=_!==void 0?v.slice(c,A).reduce(We,0):0;if(Se===!0){const pe=ae>=P.value.from&&c<=P.value.to?P.value.to:ae;P.value={from:c,to:pe},m.value=Ze(f,v,0,c),L.value=Ze(f,v,ae,e.value),requestAnimationFrame(()=>{P.value.to!==ae&&I===s.scrollStart&&(P.value={from:P.value.from,to:ae},L.value=Ze(f,v,ae,e.value))})}requestAnimationFrame(()=>{if(I!==s.scrollStart)return;Se===!0&&fe(c);const pe=v.slice(c,A).reduce(We,0),qe=pe+s.offsetStart+m.value,Fe=qe+v[A];let _e=qe+$;if(_!==void 0){const ze=pe-Ce,Pe=s.scrollStart+ze;_e=V!==!0&&Pe<qe&&Fe<Pe+s.scrollViewSize?Pe:_==="end"?Fe-s.scrollViewSize:qe-(_==="start"?0:Math.round((s.scrollViewSize-v[A])/2))}I=_e,Yt(n,_e,l.virtualScrollHorizontal,w.lang.rtl),ve(A)})}function fe(n){const s=k.value;if(s){const A=ml.call(s.children,c=>c.classList&&c.classList.contains("q-virtual-scroll--skip")===!1),$=A.length,W=l.virtualScrollHorizontal===!0?c=>c.getBoundingClientRect().width:c=>c.offsetHeight;let V=n,_,G;for(let c=0;c<$;){for(_=W(A[c]),c++;c<$&&A[c].classList.contains("q-virtual-scroll--with-prev")===!0;)_+=W(A[c]),c++;G=_-v[V],G!==0&&(v[V]+=G,f[Math.floor(V/we)]+=G),V++}}}function T(){var n;(n=k.value)==null||n.focus()}function O(n,s){const A=1*i.value;(s===!0||Array.isArray(v)===!1)&&(v=[]);const $=v.length;v.length=e.value;for(let V=e.value-1;V>=$;V--)v[V]=A;const W=Math.floor((e.value-1)/we);f=[];for(let V=0;V<=W;V++){let _=0;const G=Math.min((V+1)*we,e.value);for(let c=V*we;c<G;c++)_+=v[c];f.push(_)}r=-1,I=void 0,m.value=Ze(f,v,0,P.value.from),L.value=Ze(f,v,P.value.to,e.value),n>=0?(fe(P.value.from),Ae(()=>{ee(n)})):me()}function j(n){if(n===void 0&&typeof window!="undefined"){const _=a();_!=null&&_.nodeType!==8&&(n=kt(_,o(),Q.value,ue.value,l.virtualScrollHorizontal,w.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}q=n;const s=parseFloat(l.virtualScrollSliceRatioBefore)||0,A=parseFloat(l.virtualScrollSliceRatioAfter)||0,$=1+s+A,W=n===void 0||n<=0?1:Math.ceil(n/i.value),V=Math.max(1,W,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/$));p.value={total:Math.ceil(V*$),start:Math.ceil(V*s),center:Math.ceil(V*(.5+s)),end:Math.ceil(V*(1+s)),view:W}}function de(n,s){const A=l.virtualScrollHorizontal===!0?"width":"height",$={["--q-virtual-scroll-item-"+A]:i.value+"px"};return[n==="tbody"?x(n,{class:"q-virtual-scroll__padding",key:"before",ref:Q},[x("tr",[x("td",{style:{[A]:`${m.value}px`,...$},colspan:Y.value})])]):x(n,{class:"q-virtual-scroll__padding",key:"before",ref:Q,style:{[A]:`${m.value}px`,...$}}),x(n,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},s.flat()),n==="tbody"?x(n,{class:"q-virtual-scroll__padding",key:"after",ref:ue},[x("tr",[x("td",{style:{[A]:`${L.value}px`,...$},colspan:Y.value})])]):x(n,{class:"q-virtual-scroll__padding",key:"after",ref:ue,style:{[A]:`${L.value}px`,...$}})]}function ve(n){r!==n&&(l.onVirtualScroll!==void 0&&S("virtualScroll",{index:n,from:P.value.from,to:P.value.to-1,direction:n<r?"decrease":"increase",ref:y}),r=n)}j();const me=Ll(ce,w.platform.is.ios===!0?120:35);El(()=>{j()});let xe=!1;return ul(()=>{xe=!0}),il(()=>{if(xe!==!0)return;const n=a();I!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?Yt(n,I,l.virtualScrollHorizontal,w.lang.rtl):ee(r)}),tt(()=>{me.cancel()}),Object.assign(y,{scrollTo:ee,reset:D,refresh:re}),{virtualScrollSliceRange:P,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:j,onVirtualScrollEvt:me,localResetVirtualScroll:O,padVirtualScroll:de,scrollTo:ee,reset:D,refresh:re}}const Jt=e=>["add","add-unique","toggle"].includes(e),Fn=".*+?^${}()|[]\\",zn=Object.keys(Vt);function xt(e,a){if(typeof e=="function")return e;const o=e!==void 0?e:a;return i=>i!==null&&typeof i=="object"&&o in i?i[o]:i}var Dn=Ie({name:"QSelect",inheritAttrs:!1,props:{...Gt,...Kl,...Vt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Jt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Gt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...dl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:o}){const{proxy:i}=Be(),{$q:h}=i,l=R(!1),S=R(!1),y=R(-1),w=R(""),I=R(!1),r=R(!1);let q=null,f=null,v,m,L,p=null,Q,ue,k,P;const Y=R(null),E=R(null),H=R(null),D=R(null),re=R(null),ee=Ul(e),ce=Wl(Et),oe=b(()=>Array.isArray(e.options)?e.options.length:0),fe=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:O,localResetVirtualScroll:j,padVirtualScroll:de,onVirtualScrollEvt:ve,scrollTo:me,setVirtualScrollSize:xe}=On({virtualScrollLength:oe,getVirtualScrollTarget:hl,getVirtualScrollEl:Rt,virtualScrollItemSizeComputed:fe}),n=vl(),s=b(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,d=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const g=e.mapOptions===!0&&v!==void 0?v:[],M=d.map(K=>dt(K,g));return e.modelValue===null&&t===!0?M.filter(K=>K!==null):M}return d}),A=b(()=>{const t={};return zn.forEach(d=>{const g=e[d];g!==void 0&&(t[d]=g)}),t}),$=b(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),W=b(()=>Ht(s.value)),V=b(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||s.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),_=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),G=b(()=>oe.value===0),c=b(()=>s.value.map(t=>u.value(t)).join(", ")),ae=b(()=>e.displayValue!==void 0?e.displayValue:c.value),Se=b(()=>e.optionsHtml===!0?()=>!0:t=>(t==null?void 0:t.html)===!0),Ve=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||s.value.some(Se.value))),he=b(()=>n.focused.value===!0?e.tabindex:-1),Ce=b(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return y.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${y.value}`),t}),pe=b(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),qe=b(()=>s.value.map((t,d)=>({index:d,opt:t,html:Se.value(t),selected:!0,removeAtIndex:F,toggleOption:ie,tabindex:he.value}))),Fe=b(()=>{if(oe.value===0)return[];const{from:t,to:d}=T.value;return e.options.slice(t,d).map((g,M)=>{const K=C.value(g)===!0,le=Me(g)===!0,U=t+M,ne={clickable:!0,active:le,activeClass:Pe.value,manualFocus:!0,focused:!1,disable:K,tabindex:-1,dense:e.optionsDense,dark:$.value,role:"option","aria-selected":le===!0?"true":"false",id:`${n.targetUid.value}_${U}`,onClick:()=>{ie(g)}};return K!==!0&&(y.value===U&&(ne.focused=!0),h.platform.is.desktop===!0&&(ne.onMousemove=()=>{l.value===!0&&ke(U)})),{index:U,opt:g,html:Se.value(g),label:u.value(g),selected:ne.active,focused:ne.focused,toggleOption:ie,setOptionIndex:ke,itemProps:ne}})}),_e=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:h.iconSet.arrow.dropdown),ze=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Pe=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),se=b(()=>xt(e.optionValue,"value")),u=b(()=>xt(e.optionLabel,"label")),C=b(()=>xt(e.optionDisable,"disable")),B=b(()=>s.value.map(se.value)),J=b(()=>{const t={onInput:Et,onChange:ce,onKeydown:Mt,onKeyup:Bt,onKeypress:It,onFocus:ye,onClick(d){m===!0&&Ke(d)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ce,t});be(s,t=>{v=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(S.value!==!0&&l.value!==!0||W.value!==!0)&&(L!==!0&&Qe(),(S.value===!0||l.value===!0)&&$e(""))},{immediate:!0}),be(()=>e.fillInput,Qe),be(l,ft),be(oe,Vl);function X(t){return e.emitValue===!0?se.value(t):t}function z(t){if(t!==-1&&t<s.value.length)if(e.multiple===!0){const d=e.modelValue.slice();o("remove",{index:t,value:d.splice(t,1)[0]}),o("update:modelValue",d)}else o("update:modelValue",null)}function F(t){z(t),n.focus()}function te(t,d){const g=X(t);if(e.multiple!==!0){e.fillInput===!0&&Xe(u.value(t),!0,!0),o("update:modelValue",g);return}if(s.value.length===0){o("add",{index:0,value:g}),o("update:modelValue",e.multiple===!0?[g]:g);return}if(d===!0&&Me(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const M=e.modelValue.slice();o("add",{index:M.length,value:g}),M.push(g),o("update:modelValue",M)}function ie(t,d){var le;if(n.editable.value!==!0||t===void 0||C.value(t)===!0)return;const g=se.value(t);if(e.multiple!==!0){d!==!0&&(Xe(e.fillInput===!0?u.value(t):"",!0,!0),Re()),(le=E.value)==null||le.focus(),(s.value.length===0||Ue(se.value(s.value[0]),g)!==!0)&&o("update:modelValue",e.emitValue===!0?g:t);return}if((m!==!0||I.value===!0)&&n.focus(),ye(),s.value.length===0){const U=e.emitValue===!0?g:t;o("add",{index:0,value:U}),o("update:modelValue",e.multiple===!0?[U]:U);return}const M=e.modelValue.slice(),K=B.value.findIndex(U=>Ue(U,g));if(K!==-1)o("remove",{index:K,value:M.splice(K,1)[0]});else{if(e.maxValues!==void 0&&M.length>=e.maxValues)return;const U=e.emitValue===!0?g:t;o("add",{index:M.length,value:U}),M.push(U)}o("update:modelValue",M)}function ke(t){if(h.platform.is.desktop!==!0)return;const d=t!==-1&&t<oe.value?t:-1;y.value!==d&&(y.value=d)}function De(t=1,d){if(l.value===!0){let g=y.value;do g=Qt(g+t,-1,oe.value-1);while(g!==-1&&g!==y.value&&C.value(e.options[g])===!0);y.value!==g&&(ke(g),me(g),d!==!0&&e.useInput===!0&&e.fillInput===!0&&nt(g>=0?u.value(e.options[g]):Q,!0))}}function dt(t,d){const g=M=>Ue(se.value(M),t);return e.options.find(g)||d.find(g)||t}function Me(t){const d=se.value(t);return B.value.find(g=>Ue(g,d))!==void 0}function ye(t){e.useInput===!0&&E.value!==null&&(t===void 0||E.value===t.target&&t.target.value===c.value)&&E.value.select()}function At(t){nl(t,27)===!0&&l.value===!0&&(Ke(t),Re(),Qe()),o("keyup",t)}function Bt(t){const{value:d}=t.target;if(t.keyCode!==void 0){At(t);return}if(t.target.value="",q!==null&&(clearTimeout(q),q=null),f!==null&&(clearTimeout(f),f=null),Qe(),typeof d=="string"&&d.length!==0){const g=d.toLocaleLowerCase(),M=le=>{const U=e.options.find(ne=>String(le.value(ne)).toLocaleLowerCase()===g);return U===void 0?!1:(s.value.indexOf(U)===-1?ie(U):Re(),!0)},K=le=>{M(se)!==!0&&le!==!0&&M(u)!==!0&&$e(d,!0,()=>K(!0))};K()}else n.clearValue(t)}function It(t){o("keypress",t)}function Mt(t){if(o("keydown",t),al(t)===!0)return;const d=w.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),g=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(y.value!==-1||d===!0);if(t.keyCode===27){mt(t);return}if(t.keyCode===9&&g===!1){He();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&l.value===!1){ge(t),Ne();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&w.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?z(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof w.value!="string"||w.value.length===0)&&(ge(t),y.value=-1,De(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&O.value!==void 0&&(ge(t),y.value=Math.max(-1,Math.min(oe.value,y.value+(t.keyCode===33?-1:1)*O.value.view)),De(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ge(t),De(t.keyCode===38?-1:1,e.multiple));const M=oe.value;if((k===void 0||P<Date.now())&&(k=""),M>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||k.length!==0)){l.value!==!0&&Ne(t);const K=t.key.toLocaleLowerCase(),le=k.length===1&&k[0]===K;P=Date.now()+1500,le===!1&&(ge(t),k+=K);const U=new RegExp("^"+k.split("").map(je=>Fn.indexOf(je)!==-1?"\\"+je:je).join(".*"),"i");let ne=y.value;if(le===!0||ne<0||U.test(u.value(e.options[ne]))!==!0)do ne=Qt(ne+1,-1,M-1);while(ne!==y.value&&(C.value(e.options[ne])===!0||U.test(u.value(e.options[ne]))!==!0));y.value!==ne&&Ae(()=>{ke(ne),me(ne),ne>=0&&e.useInput===!0&&e.fillInput===!0&&nt(u.value(e.options[ne]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||k!=="")&&(t.keyCode!==9||g===!1))){if(t.keyCode!==9&&ge(t),y.value!==-1&&y.value<M){ie(e.options[y.value]);return}if(d===!0){const K=(le,U)=>{var je;if(U){if(Jt(U)!==!0)return}else U=e.newValueMode;if(Xe("",e.multiple!==!0,!0),le==null)return;(U==="toggle"?ie:te)(le,U==="add-unique"),e.multiple!==!0&&((je=E.value)==null||je.focus(),Re())};if(e.onNewValue!==void 0?o("newValue",w.value,K):K(w.value),e.multiple!==!0)return}l.value===!0?He():n.innerLoading.value!==!0&&Ne()}}function Rt(){return m===!0?re.value:H.value!==null&&H.value.contentEl!==null?H.value.contentEl:void 0}function hl(){return Rt()}function gl(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?qe.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?qe.value.map((t,d)=>x(In,{key:"option-"+d,removable:n.editable.value===!0&&C.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:he.value,onRemove(){t.removeAtIndex(d)}},()=>x("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:u.value(t.opt)}))):[x("span",{class:"ellipsis",[Ve.value===!0?"innerHTML":"textContent"]:ae.value})]}function Lt(){if(G.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:w.value}):void 0;const t=a.option!==void 0?a.option:g=>x(st,{key:g.index,...g.itemProps},()=>x(Oe,()=>x(rt,()=>x("span",{[g.html===!0?"innerHTML":"textContent"]:g.label}))));let d=de("div",Fe.value.map(t));return a["before-options"]!==void 0&&(d=a["before-options"]().concat(d)),ol(a["after-options"],d)}function bl(t,d){const g=d===!0?{...Ce.value,...n.splitAttrs.attributes.value}:void 0,M={ref:d===!0?E:void 0,key:"i_t",class:V.value,style:e.inputStyle,value:w.value!==void 0?w.value:"",type:"search",...g,id:d===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...J.value};return t!==!0&&m===!0&&(Array.isArray(M.class)===!0?M.class=[...M.class,"no-pointer-events"]:M.class+=" no-pointer-events"),x("input",M)}function Et(t){q!==null&&(clearTimeout(q),q=null),f!==null&&(clearTimeout(f),f=null),!(t&&t.target&&t.target.qComposing===!0)&&(nt(t.target.value||""),L=!0,Q=w.value,n.focused.value!==!0&&(m!==!0||I.value===!0)&&n.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{q=null,$e(w.value)},e.inputDebounce)))}function nt(t,d){w.value!==t&&(w.value=t,d===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):f=setTimeout(()=>{f=null,o("inputValue",t)},e.inputDebounce))}function Xe(t,d,g){L=g!==!0,e.useInput===!0&&(nt(t,!0),(d===!0||g!==!0)&&(Q=t),d!==!0&&$e(t))}function $e(t,d,g){if(e.onFilter===void 0||d!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?o("filterAbort"):(n.innerLoading.value=!0,r.value=!0),t!==""&&e.multiple!==!0&&s.value.length!==0&&L!==!0&&t===u.value(s.value[0])&&(t="");const M=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);p!==null&&clearTimeout(p),p=M,o("filter",t,(K,le)=>{(d===!0||n.focused.value===!0)&&p===M&&(clearTimeout(p),typeof K=="function"&&K(),r.value=!1,Ae(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(d===!0?l.value===!0&&Re():l.value===!0?ft(!0):l.value=!0),typeof le=="function"&&Ae(()=>{le(i)}),typeof g=="function"&&Ae(()=>{g(i)})}))},()=>{n.focused.value===!0&&p===M&&(clearTimeout(p),n.innerLoading.value=!1,r.value=!1),l.value===!0&&(l.value=!1)})}function Sl(){return x(Mn,{ref:H,class:_.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&G.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:$.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...pe.value,onScrollPassive:ve,onBeforeShow:Ft,onBeforeHide:yl,onShow:wl},Lt)}function yl(t){zt(t),He()}function wl(){xe()}function Cl(t){var d;Ke(t),(d=E.value)==null||d.focus(),I.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function pl(t){Ke(t),Ae(()=>{I.value=!1})}function kl(){const t=[x(An,{class:`col-auto ${n.fieldClass.value}`,...A.value,for:n.targetUid.value,dark:$.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:w.value.length!==0,...n.splitAttrs.listeners.value,onFocus:Cl,onBlur:pl},{...a,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&t.push(x("div",{ref:re,class:_.value+" scroll",style:e.popupContentStyle,...pe.value,onClick:mt,onScrollPassive:ve},Lt())),x(dn,{ref:D,modelValue:S.value,position:e.useInput===!0?"top":void 0,transitionShow:ue,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ft,onBeforeHide:xl,onHide:ql,onShow:Tl},()=>x("div",{class:"q-select__dialog"+($.value===!0?" q-select__dialog--dark q-dark":"")+(I.value===!0?" q-select__dialog--focused":"")},t))}function xl(t){zt(t),D.value!==null&&D.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function ql(t){Re(),n.focused.value===!1&&o("blur",t),Qe()}function Tl(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&E.value!==null&&E.value!==t&&E.value.focus(),xe()}function He(){S.value!==!0&&(y.value=-1,l.value===!0&&(l.value=!1),n.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),n.innerLoading.value===!0&&(o("filterAbort"),n.innerLoading.value=!1,r.value=!1)))}function Ne(t){n.editable.value===!0&&(m===!0?(n.onControlFocusin(t),S.value=!0,Ae(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?$e(w.value):(G.value!==!0||a["no-option"]!==void 0)&&(l.value=!0))}function Re(){S.value=!1,He()}function Qe(){e.useInput===!0&&Xe(e.multiple!==!0&&e.fillInput===!0&&s.value.length!==0&&u.value(s.value[0])||"",!0,!0)}function ft(t){let d=-1;if(t===!0){if(s.value.length!==0){const g=se.value(s.value[0]);d=e.options.findIndex(M=>Ue(se.value(M),g))}j(d)}ke(d)}function Vl(t,d){l.value===!0&&n.innerLoading.value===!1&&(j(-1,!0),Ae(()=>{l.value===!0&&n.innerLoading.value===!1&&(t>d?j():ft(!0))}))}function Ot(){S.value===!1&&H.value!==null&&H.value.updatePosition()}function Ft(t){t!==void 0&&Ke(t),o("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function zt(t){t!==void 0&&Ke(t),o("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function Dt(){m=h.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||G.value===!1:!0),ue=h.platform.is.ios===!0&&m===!0&&e.useInput===!0?"fade":e.transitionShow}return Ol(Dt),Fl(Ot),Dt(),tt(()=>{q!==null&&clearTimeout(q),f!==null&&clearTimeout(f)}),Object.assign(i,{showPopup:Ne,hidePopup:Re,removeAtIndex:z,add:te,toggleOption:ie,getOptionIndex:()=>y.value,setOptionIndex:ke,moveOptionSelection:De,filter:$e,updateMenuPosition:Ot,updateInputValue:Xe,isOptionSelected:Me,getEmittingOptionValue:X,isOptionDisabled:(...t)=>C.value.apply(null,t)===!0,getOptionValue:(...t)=>se.value.apply(null,t),getOptionLabel:(...t)=>u.value.apply(null,t)}),Object.assign(n,{innerValue:s,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Y,targetRef:E,hasValue:W,showPopup:Ne,floatingLabel:b(()=>e.hideSelected!==!0&&W.value===!0||typeof w.value=="number"||w.value.length!==0||Ht(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(S.value===!0||G.value!==!0||a["no-option"]!==void 0))return m===!0?kl():Sl();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{Qe(),He()})},onClick(t){var d;if(mt(t),m!==!0&&l.value===!0){He(),(d=E.value)==null||d.focus();return}Ne(t)}},getControl:t=>{const d=gl(),g=t===!0||S.value!==!0||m!==!0;if(e.useInput===!0)d.push(bl(t,g));else if(n.editable.value===!0){const K=g===!0?Ce.value:void 0;d.push(x("input",{ref:g===!0?E:void 0,key:"d_t",class:"q-select__focus-target",id:g===!0?n.targetUid.value:void 0,value:ae.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...K,onKeydown:Mt,onKeyup:At,onKeypress:It})),g===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&d.push(x("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Bt}))}if(ee.value!==void 0&&e.disable!==!0&&B.value.length!==0){const K=B.value.map(le=>x("option",{value:le,selected:!0}));d.push(x("select",{class:"hidden",name:ee.value,multiple:e.multiple},K))}const M=e.useInput===!0||g!==!0?void 0:n.splitAttrs.attributes.value;return x("div",{class:"q-field__native row items-center",...M,...n.splitAttrs.listeners.value},d)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[x(Te,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:_e.value})]:null}),fl(n)}});function $n(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,i)=>{const h=parseFloat(o);h&&(a[i]=h)}),a}var Hn=zl({name:"touch-swipe",beforeMount(e,{value:a,arg:o,modifiers:i}){if(i.mouse!==!0&&Ye.has.touch!==!0)return;const h=i.mouseCapture===!0?"Capture":"",l={handler:a,sensitivity:$n(o),direction:jt(i),noop:cl,mouseStart(S){Kt(S,l)&&Dl(S)&&(at(l,"temp",[[document,"mousemove","move",`notPassive${h}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(S,!0))},touchStart(S){if(Kt(S,l)){const y=S.target;at(l,"temp",[[y,"touchmove","move","notPassiveCapture"],[y,"touchcancel","end","notPassiveCapture"],[y,"touchend","end","notPassiveCapture"]]),l.start(S)}},start(S,y){Ye.is.firefox===!0&&ht(e,!0);const w=Tt(S);l.event={x:w.left,y:w.top,time:Date.now(),mouse:y===!0,dir:!1}},move(S){if(l.event===void 0)return;if(l.event.dir!==!1){ge(S);return}const y=Date.now()-l.event.time;if(y===0)return;const w=Tt(S),I=w.left-l.event.x,r=Math.abs(I),q=w.top-l.event.y,f=Math.abs(q);if(l.event.mouse!==!0){if(r<l.sensitivity[1]&&f<l.sensitivity[1]){l.end(S);return}}else if(window.getSelection().toString()!==""){l.end(S);return}else if(r<l.sensitivity[2]&&f<l.sensitivity[2])return;const v=r/y,m=f/y;l.direction.vertical===!0&&r<f&&r<100&&m>l.sensitivity[0]&&(l.event.dir=q<0?"up":"down"),l.direction.horizontal===!0&&r>f&&f<100&&v>l.sensitivity[0]&&(l.event.dir=I<0?"left":"right"),l.direction.up===!0&&r<f&&q<0&&r<100&&m>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&r<f&&q>0&&r<100&&m>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&r>f&&I<0&&f<100&&v>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&r>f&&I>0&&f<100&&v>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(ge(S),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),fn(),l.styleCleanup=L=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const p=()=>{document.body.classList.remove("no-pointer-events--children")};L===!0?setTimeout(p,50):p()}),l.handler({evt:S,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:y,distance:{x:r,y:f}})):l.end(S)},end(S){var y;l.event!==void 0&&(gt(l,"temp"),Ye.is.firefox===!0&&ht(e,!1),(y=l.styleCleanup)==null||y.call(l,!0),S!==void 0&&l.event.dir!==!1&&ge(S),l.event=void 0)}};if(e.__qtouchswipe=l,i.mouse===!0){const S=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";at(l,"main",[[e,"mousedown","mouseStart",`passive${S}`]])}Ye.has.touch===!0&&at(l,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const o=e.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=jt(a.modifiers))},beforeUnmount(e){var o;const a=e.__qtouchswipe;a!==void 0&&(gt(a,"main"),gt(a,"temp"),Ye.is.firefox===!0&&ht(e,!1),(o=a.styleCleanup)==null||o.call(a),delete e.__qtouchswipe)}});function Nn(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const Qn={name:{required:!0},disable:Boolean},Zt={setup(e,{slots:a}){return()=>x("div",{class:"q-panel scroll",role:"tabpanel"},lt(a.default))}},jn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Kn=["update:modelValue","beforeTransition","transition"];function Un(){const{props:e,emit:a,proxy:o}=Be(),{getCache:i}=Nn(),{registerTimeout:h}=ct();let l,S;const y=R(null),w={value:null};function I(T){const O=e.vertical===!0?"up":"left";D((o.$q.lang.rtl===!0?-1:1)*(T.direction===O?1:-1))}const r=b(()=>[[Hn,I,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),q=b(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),f=b(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),v=b(()=>`--q-transition-duration: ${e.transitionDuration}ms`),m=b(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),L=b(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),p=b(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);be(()=>e.modelValue,(T,O)=>{const j=P(T)===!0?Y(T):-1;S!==!0&&H(j===-1?0:j<Y(O)?-1:1),w.value!==j&&(w.value=j,a("beforeTransition",T,O),h(()=>{a("transition",T,O)},e.transitionDuration))});function Q(){D(1)}function ue(){D(-1)}function k(T){a("update:modelValue",T)}function P(T){return T!=null&&T!==""}function Y(T){return l.findIndex(O=>O.props.name===T&&O.props.disable!==""&&O.props.disable!==!0)}function E(){return l.filter(T=>T.props.disable!==""&&T.props.disable!==!0)}function H(T){const O=T!==0&&e.animated===!0&&w.value!==-1?"q-transition--"+(T===-1?q.value:f.value):null;y.value!==O&&(y.value=O)}function D(T,O=w.value){let j=O+T;for(;j!==-1&&j<l.length;){const de=l[j];if(de!==void 0&&de.props.disable!==""&&de.props.disable!==!0){H(T),S=!0,a("update:modelValue",de.props.name),setTimeout(()=>{S=!1});return}j+=T}e.infinite===!0&&l.length!==0&&O!==-1&&O!==l.length&&D(T,T===-1?l.length:-1)}function re(){const T=Y(e.modelValue);return w.value!==T&&(w.value=T),!0}function ee(){const T=P(e.modelValue)===!0&&re()&&l[w.value];return e.keepAlive===!0?[x(Hl,L.value,[x(p.value===!0?i(m.value,()=>({...Zt,name:m.value})):Zt,{key:m.value,style:v.value},()=>T)])]:[x("div",{class:"q-panel scroll",style:v.value,key:m.value,role:"tabpanel"},[T])]}function ce(){if(l.length!==0)return e.animated===!0?[x(sl,{name:y.value},ee)]:ee()}function oe(T){return l=$l(lt(T.default,[])).filter(O=>O.props!==null&&O.props.slot===void 0&&P(O.props.name)===!0),l.length}function fe(){return l}return Object.assign(o,{next:Q,previous:ue,goTo:k}),{panelIndex:w,panelDirectives:r,updatePanelsList:oe,updatePanelIndex:re,getPanelContent:ce,getEnabledPanels:E,getPanels:fe,isValidPanelName:P,keepAliveProps:L,needsUniqueKeepAliveWrapper:p,goToPanelByOffset:D,goToPanel:k,nextPanel:Q,previousPanel:ue}}var qt=Ie({name:"QTabPanel",props:Qn,setup(e,{slots:a}){return()=>x("div",{class:"q-tab-panel",role:"tabpanel"},lt(a.default))}}),Wn=Ie({name:"QTabPanels",props:{...jn,..._t},emits:Kn,setup(e,{slots:a}){const o=Be(),i=Pt(e,o.proxy.$q),{updatePanelsList:h,getPanelContent:l,panelDirectives:S}=Un(),y=b(()=>"q-tab-panels q-panel-parent"+(i.value===!0?" q-tab-panels--dark q-dark":""));return()=>(h(a),rl("div",{class:y.value},l(),"pan",e.swipeable,()=>S.value))}});const Xn={class:"row items-center q-mb-lg"},Yn={class:"row q-gutter-sm q-mb-lg"},aa=Nl({__name:"AdminPage",setup(e){const a=vn(),o=pn(),i=R("roles"),h=R([]),l=R([]),S=R({name:""});async function y(){const{data:f,error:v}=await Je.from("profiles").select("*");v||(h.value=f)}async function w(f,v){const{error:m}=await Je.from("profiles").update({role:v}).eq("id",f);m?a.notify({color:"negative",message:"Failed to update role"}):a.notify({color:"positive",message:`User promoted to ${v}`})}async function I(){const{data:f}=await Je.from("locations").select("*");l.value=f||[]}async function r(){if(!S.value.name)return;const{error:f}=await Je.from("locations").insert([S.value]);f||(S.value.name="",I())}async function q(f){await Je.from("locations").delete().eq("id",f),I()}return el(()=>{y(),I(),o.loadData()}),(f,v)=>(Le(),ot(Cn,{padding:"",class:"bg-grey-1"},{default:Z(()=>[Ee("div",Xn,[N(Te,{name:"admin_panel_settings",size:"md",color:"primary",class:"q-mr-sm"}),v[3]||(v[3]=Ee("div",{class:"text-h4 text-weight-bold"},"Manager Dashboard",-1))]),N(Yl,{flat:"",bordered:""},{default:Z(()=>[N(Pn,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=m=>i.value=m),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:Z(()=>[N(pt,{name:"roles",icon:"manage_accounts",label:"User Roles"}),N(pt,{name:"locations",icon:"place",label:"Pickup Locations"}),N(pt,{name:"people",icon:"people",label:"People Management"})]),_:1},8,["modelValue"]),N(mn),N(Wn,{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=m=>i.value=m),animated:""},{default:Z(()=>[N(qt,{name:"roles"},{default:Z(()=>[v[4]||(v[4]=Ee("div",{class:"text-h6 q-mb-md"},"Promote Users",-1)),N(Ct,{bordered:"",separator:"",padding:""},{default:Z(()=>[(Le(!0),bt(yt,null,St(h.value,m=>(Le(),ot(st,{key:m.id},{default:Z(()=>[N(Oe,null,{default:Z(()=>[N(rt,null,{default:Z(()=>[ut(Ge(m.phone||m.email),1)]),_:2},1024),N(rt,{caption:""},{default:Z(()=>[ut("UID: "+Ge(m.id),1)]),_:2},1024)]),_:2},1024),N(Oe,{side:""},{default:Z(()=>[N(Dn,{modelValue:m.role,"onUpdate:modelValue":[L=>m.role=L,L=>w(m.id,L)],options:["viewer","editor","admin"],dense:"",outlined:"",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),N(qt,{name:"locations"},{default:Z(()=>[v[5]||(v[5]=Ee("div",{class:"text-h6 q-mb-md"},"Manage Pickup Points",-1)),Ee("div",Yn,[N(Xl,{modelValue:S.value.name,"onUpdate:modelValue":v[1]||(v[1]=m=>S.value.name=m),label:"Location Name",dense:"",outlined:"",class:"col"},null,8,["modelValue"]),N(wt,{icon:"add",color:"positive",label:"Add",onClick:r})]),N(Ct,{bordered:"",separator:""},{default:Z(()=>[(Le(!0),bt(yt,null,St(l.value,m=>(Le(),ot(st,{key:m.id},{default:Z(()=>[N(Oe,null,{default:Z(()=>[ut(Ge(m.name),1)]),_:2},1024),N(Oe,{side:""},{default:Z(()=>[N(wt,{flat:"",round:"",icon:"delete",color:"negative",onClick:L=>q(m.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),N(qt,{name:"people"},{default:Z(()=>[v[6]||(v[6]=Ee("div",{class:"text-h6 q-mb-md"},"People in Directory",-1)),v[7]||(v[7]=Ee("div",{class:"text-caption q-mb-md"}," Editing here syncs to both Cloud and your local IndexedDB. ",-1)),N(Ct,{bordered:"",separator:""},{default:Z(()=>[(Le(!0),bt(yt,null,St($t(o).getData,m=>(Le(),ot(st,{key:m.id},{default:Z(()=>[N(Oe,null,{default:Z(()=>[N(rt,null,{default:Z(()=>[ut(Ge(m.name.first)+" "+Ge(m.name.last),1)]),_:2},1024)]),_:2},1024),N(Oe,{side:""},{default:Z(()=>[N(wt,{flat:"",round:"",icon:"delete",color:"negative",onClick:L=>$t(o).deleteData(m.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}});export{aa as default};

import{k as q,i as M,l as _,p as U,j as i,q as f,s as F,u as O,v as j,x as A,r as p,y as D,a as C,w as $,z as G,A as J,B as X,C as Y,D as W,_ as N,E as P,F as E,G as K,H as z,I as g,J as Z,Q as ee,K as te}from"./index.f356d913.js";import{g as R,Q as oe,a as k,A as ae}from"./Modal.d6e17fff.js";import{Q as ne}from"./QCard.8af1a0ba.js";import{u as re}from"./store.3d666953.js";var le=q({name:"QPageContainer",setup(e,{slots:r}){const{proxy:{$q:l}}=A(),a=M(O,_);if(a===_)return console.error("QPageContainer needs to be child of QLayout"),_;U(j,!0);const n=i(()=>{const s={};return a.header.space===!0&&(s.paddingTop=`${a.header.size}px`),a.right.space===!0&&(s[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(s.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(s[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),s});return()=>f("div",{class:"q-page-container",style:n.value},F(r.default))}}),se=q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:r,emit:l}){const{proxy:{$q:a}}=A(),n=p(null),s=p(a.screen.height),u=p(e.container===!0?0:a.screen.width),d=p({position:0,direction:"down",inflectionPoint:0}),y=p(0),v=p(D.value===!0?0:R()),x=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),H=i(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),L=i(()=>v.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),h=i(()=>v.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function b(o){if(e.container===!0||document.qScrollPrevented!==!0){const c={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};d.value=c,e.onScroll!==void 0&&l("scroll",c)}}function B(o){const{height:c,width:w}=o;let Q=!1;s.value!==c&&(Q=!0,s.value=c,e.onScrollHeight!==void 0&&l("scrollHeight",c),S()),u.value!==w&&(Q=!0,u.value=w),Q===!0&&e.onResize!==void 0&&l("resize",o)}function T({height:o}){y.value!==o&&(y.value=o,S())}function S(){if(e.container===!0){const o=s.value>y.value?R():0;v.value!==o&&(v.value=o)}}let t=null;const m={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:n,height:s,containerHeight:y,scrollbarWidth:v,totalWidth:i(()=>u.value+v.value),rows:i(()=>{const o=e.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:C({size:0,offset:0,space:!1}),right:C({size:300,offset:0,space:!1}),footer:C({size:0,offset:0,space:!1}),left:C({size:300,offset:0,space:!1}),scroll:d,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,c,w){m[o][c]=w}};if(U(O,m),R()>0){let w=function(){o=null,c.classList.remove("hide-scrollbar")},Q=function(){if(o===null){if(c.scrollHeight>a.screen.height)return;c.classList.add("hide-scrollbar")}else clearTimeout(o);o=setTimeout(w,300)},V=function(I){o!==null&&I==="remove"&&(clearTimeout(o),w()),window[`${I}EventListener`]("resize",Q)},o=null;const c=document.body;$(()=>e.container!==!0?"add":"remove",V),e.container!==!0&&V("add"),G(()=>{V("remove")})}return()=>{const o=J(r.default,[f(oe,{onScroll:b}),f(k,{onResize:B})]),c=f("div",{class:x.value,style:H.value,ref:e.container===!0?void 0:n,tabindex:-1},o);return e.container===!0?f("div",{class:"q-layout-container overflow-hidden",ref:n},[f(k,{onResize:T}),f("div",{class:"absolute-full",style:L.value},[f("div",{class:"scroll",style:h.value},[c])])]):c}}}),ie=q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:r}){const l=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>f("div",{class:l.value},F(r.default))}}),ue=q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:r}){const l=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>f("div",{class:l.value,role:"toolbar"},F(r.default))}}),ce=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:r,emit:l}){const{proxy:{$q:a}}=A(),n=M(O,_);if(n===_)return console.error("QHeader needs to be child of QLayout"),_;const s=p(parseInt(e.heightHint,10)),u=p(!0),d=i(()=>e.reveal===!0||n.view.value.indexOf("H")!==-1||a.platform.is.ios&&n.isContainer.value===!0),y=i(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return u.value===!0?s.value:0;const t=s.value-n.scroll.value.position;return t>0?t:0}),v=i(()=>e.modelValue!==!0||d.value===!0&&u.value!==!0),x=i(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),H=i(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),L=i(()=>{const t=n.rows.value.top,m={};return t[0]==="l"&&n.left.space===!0&&(m[a.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),t[2]==="r"&&n.right.space===!0&&(m[a.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),m});function h(t,m){n.update("header",t,m)}function b(t,m){t.value!==m&&(t.value=m)}function B({height:t}){b(s,t),h("size",t)}function T(t){x.value===!0&&b(u,!0),l("focusin",t)}$(()=>e.modelValue,t=>{h("space",t),b(u,!0),n.animate()}),$(y,t=>{h("offset",t)}),$(()=>e.reveal,t=>{t===!1&&b(u,e.modelValue)}),$(u,t=>{n.animate(),l("reveal",t)}),$(n.scroll,t=>{e.reveal===!0&&b(u,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const S={};return n.instances.header=S,e.modelValue===!0&&h("size",s.value),h("space",e.modelValue),h("offset",y.value),X(()=>{n.instances.header===S&&(n.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const t=Y(r.default,[]);return e.elevated===!0&&t.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(f(k,{debounce:0,onResize:B})),f("header",{class:H.value,style:L.value,onFocusin:T},t)}}});const de=W({name:"HeaderComponent",components:{AddressModal:ae},setup(){const e=p(""),r=p(!1),l=re();return $(e,a=>{l.search(a)}),{card:r,search:e}}});function fe(e,r,l,a,n,s){const u=P("address-modal");return E(),K(ce,{elevated:"",class:"glossy border-top-sm",style:{padding:"10px",color:"white"}},{default:z(()=>[g(ue,null,{default:z(()=>[g(ie,null,{default:z(()=>[...r[3]||(r[3]=[Z(" Address Book ",-1)])]),_:1}),g(ne,{color:"white","input-style":"color: white","label-color":"white",label:"search",modelValue:e.search,"onUpdate:modelValue":r[0]||(r[0]=d=>e.search=d),modelModifiers:{lazy:!0,trim:!0}},{prepend:z(()=>[g(ee,{color:"white",name:"search"})]),_:1},8,["modelValue"]),g(te,{flat:"",dense:"",round:"",icon:"group_add",onClick:r[1]||(r[1]=d=>e.card=!0)}),g(u,{"card-state":e.card,"onUpdate:cardState":r[2]||(r[2]=d=>e.card=d)},null,8,["card-state"])]),_:1})]),_:1})}var ve=N(de,[["render",fe]]);const he=W({name:"MainLayout",components:{HeaderComponent:ve}});function me(e,r,l,a,n,s){const u=P("header-component"),d=P("router-view");return E(),K(se,{view:"lHh Lpr lFf"},{default:z(()=>[g(u),g(le,{class:"book-container"},{default:z(()=>[g(d)]),_:1})]),_:1})}var we=N(he,[["render",me]]);export{we as default};
